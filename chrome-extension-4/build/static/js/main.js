(this["webpackJsonpchrome-git-extension"]=this["webpackJsonpchrome-git-extension"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(6),i=n.n(c),s=n(2),a=n(3),o=n.n(a),u=n(5),l=n(0),d=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ratings-api.dev.reputationaire.com/api/request-rating",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({githubId:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.message.uuid_github);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ratings-api.dev.reputationaire.com/api/result?id=".concat(t,"&access=f62345e8-9378-425b-b122-ecb4a9610a38"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.link,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],a=(c[1],Object(r.useState)(!1)),o=Object(s.a)(a,2),u=o[0],m=o[1],b=Object(r.useState)({rating:0,userName:"",credits:1e3}),p=Object(s.a)(b,2),f=p[0],j=p[1],g=Object(r.useState)(""),x=Object(s.a)(g,2),v=x[0],O=x[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),w=N[0],S=N[1];return i?null:!0===w?Object(l.jsx)("div",{className:"App",children:Object(l.jsx)("div",{id:"loading-text",className:"text",children:"Crunching 50 million developers..."})}):f.credits<=0?Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"text",children:"You have no credits left."}),Object(l.jsx)("button",{className:"btn",children:"Buy more credits"})]}):Object(l.jsxs)("div",{className:"App",children:[v?Object(l.jsx)("div",{className:"text",id:"error",children:v}):Object(l.jsx)(l.Fragment,{}),u?Object(l.jsxs)("div",{style:{textAlign:"center",marginBottom:"25px"},children:[Object(l.jsxs)("div",{style:{marginBottom:"20px",fontSize:"22px"},children:["Rating of ",Object(l.jsx)("b",{children:f.userName})," is"]}),Object(l.jsxs)("div",{id:"percentage",children:[f.rating.toFixed(4),"%"]})]}):"",Object(l.jsx)("button",{onClick:function(){var e;S(!0),(e=t,new Promise((function(t,n){if(e)if(e.match(/github.com\/.+/)){var r=e.split("github.com/")[1].split("/")[0];console.log(r),t(r)}else n("The url doesn't contain name of any github user");else n("The url doesn't contain name of any github user")}))).then((function(e){d(e).then((function(t){h(t).then((function(t){!0===t.error?(O("Unable to get the rating of this user"),S(!1)):(j({rating:100*t.message.average,userName:e,credits:t.message.remaining_credits}),m(!0),O(""),S(!1))}))}))})).catch((function(e){console.log(e),O(e),S(!1)}))},className:"btn",children:"Find Ranking"})]})};n(13);console.log("Hello from content script");window.onload=function(){var e=document.querySelectorAll("a");console.log(e),e.forEach((function(e){if((s=e.href)&&s.match(/github.com\/.+/)){var t=document.createElement("div"),n=e.getBoundingClientRect(),r=n.x,c=n.y;n.width,n.height;t.className="my-extension-root",t.style.position="absolute",t.style.top=c+"px",t.style.left=r+"px",t.style.transform="translate(0, -100%)",i.a.render(Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{link:e.href}),Object(l.jsx)("div",{className:"close-btn",onClick:function(){return t.remove()},children:"X"})]}),t),e.onmouseenter=function(){document.querySelectorAll(".my-extension-root").forEach((function(e){e!==t&&e.remove()})),document.body.appendChild(t)}}var s}))}}},[[14,1,2]]]);
//# sourceMappingURL=main.8f9725a4.chunk.js.map